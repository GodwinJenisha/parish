import{r as o,j as e,z as L,A as d,l as he,aj as rt,T as n,ax as ot,I as lt,m as me,n as nt,M as Ce,ay as ye,az as ve,aA as be,aB as je,p as j,P as l,aC as dt,aD as ct,aE as ut,G as oe,aF as mt,aG as ht,ap as pt,af as xe,C as xt,aH as gt,o as yt,w as vt,x as _e,aI as bt,E as Pe,aJ as jt,aK as ft,aL as Ct,aM as At,B as _t,v as h,D as Pt,aN as Ae,al as I,ae as T,aO as w,F as St,aP as Dt,aQ as Ft,aR as It,aS as Tt,aT as ge,aU as wt,aV as Bt,ai as Nt}from"./main-8UzOKjJg.js";function Se({selected:R,name:_,diocese:Y,contactNumber:q,email:V,status:B,row:u,onEdit:H,onDisable:N,onNameCellClick:U}){const[f,M]=o.useState(null),[y,P]=o.useState(!1),[k,C]=o.useState(!1),[i,G]=o.useState("Deactivate"),ee=b=>{M(b.currentTarget)},E=()=>{M(null)},X=()=>{H&&u&&u.parishId?(console.log("Editing Parish ID:",u.parishId),H(u.parishId)):console.error("Error: Unable to edit. Parish ID is undefined.")},v=()=>{console.log("Editing Parish ID:",u.parishId),H(u.parishId),O()},O=()=>{P(!1)},le=()=>{u&&u.parishId?(C(!0),G(u.status==="A"?"Deactivate":"Activate")):console.error("Error: Unable to disable. Parish ID is undefined.")},W=()=>{console.log(`${i} Parish ID:`,u.parishId),N(u.parishId),K()},K=()=>{C(!1)},J=b=>{if(!b)return"";const A=b.split(" ");let g="";return A.length>1?g=A[0].charAt(0).toUpperCase()+A[1].charAt(0).toUpperCase():g=A[0].charAt(0).toUpperCase(),g};o.useState(null);const c=b=>{const A=b.split(" "),g={};return A.forEach($=>{const S=$.slice(0,2),x=$.slice(3,4)==="T",ae=$.slice(4,5)==="T",ie=$.slice(5,6)==="T";g[S+"View"]=x,g[S+"Edit"]=ae,g[S+"Delete"]=ie}),g},Q=localStorage.getItem("permissions"),te=c(Q),z=te.PAEdit,se=te.PADelete;return e.jsxs(e.Fragment,{children:[e.jsxs(L,{hover:!0,tabIndex:-1,role:"checkbox",selected:R,children:[e.jsx(d,{component:"th",scope:"row",padding:"none",onClick:U,style:{paddingLeft:16,cursor:"pointer"},children:e.jsxs(he,{direction:"row",alignItems:"center",spacing:2,children:[e.jsx(rt,{alt:_,style:{backgroundColor:"colorValue"},children:J(_)}),e.jsx(n,{variant:"subtitle2",noWrap:!0,children:_})]})}),e.jsx(d,{align:"center",onClick:U,children:Y}),e.jsxs(d,{align:"center",children:[" ",q]}),e.jsxs(d,{align:"center",children:[" ",V]}),e.jsx(d,{align:"center",children:e.jsx(ot,{color:B==="A"?"success":"error",children:B==="A"?"Active":"Inactive"})}),e.jsx(d,{align:"center",children:e.jsx(lt,{onClick:ee,children:e.jsx(me,{icon:"eva:more-vertical-fill"})})})]}),e.jsxs(nt,{open:!!f,anchorEl:f,onClose:E,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"},children:[e.jsxs(Ce,{onClick:()=>{z&&(X(),E())},disabled:!z,children:[e.jsx(me,{icon:"eva:edit-fill",sx:{mr:2}}),"Edit"]}),e.jsxs(Ce,{onClick:()=>{se&&(le(),E())},sx:{color:u.status==="A"?"error.main":"primary.main"},disabled:!se,children:[e.jsx(me,{icon:`eva:${u.status==="A"?"unlock-outline":"lock-outline"}`,sx:{mr:2}}),u.status==="A"?"Deactivate":"Activate"]})]}),e.jsxs(ye,{open:y,onClose:O,maxWidth:"xs",fullWidth:!0,children:[e.jsx(ve,{children:"Confirmation"}),e.jsx(be,{children:e.jsx("p",{children:"Are you sure you want to edit this parish?"})}),e.jsxs(je,{children:[e.jsx(j,{onClick:O,children:"Cancel"}),e.jsx(j,{onClick:v,color:"primary",children:"Confirm"})]})]}),e.jsxs(ye,{open:k,onClose:K,maxWidth:"xs",fullWidth:!0,children:[e.jsx(ve,{children:"Confirmation"}),e.jsx(be,{children:e.jsxs("p",{children:["Are you sure you want to ",i.toLowerCase()," this parish?"]})}),e.jsxs(je,{children:[e.jsx(j,{onClick:K,children:"Cancel"}),e.jsx(j,{onClick:W,color:"primary",children:"Confirm"})]})]})]})}Se.propTypes={diocese:l.string,name:l.string,contactNumber:l.any,email:l.any,row:l.any,selected:l.any,status:l.string,onEdit:l.func,onDisable:l.func,handleNameCellClick:l.func,onNameCellClick:l.func};const De=({open:R,onClose:_,parishDetails:Y})=>{const{name:q,contactNumber:V,email:B,address1:u,address2:H,city:N,district:U,state:f,postalCode:M,country:y,comm_address1:P,comm_address2:k,comm_city:C,comm_district:i,comm_state:G,comm_postalCode:ee,comm_country:E,website:X,diocese:v,status:O}=Y||{},le=o.useRef(null),W=c=>{switch(c){case"A":return"Active";case"D":return"Inactive";default:return"N/A"}},K=c=>c==="A"?"#4CAF50":c==="D"?"#FF5252":"transparent",J=()=>{const c=new Bt;c.setFontSize(16),c.setFont("helvetica","bold"),c.text("STCK",20,20),c.setFont("helvetica","normal");const Q=new Date().toLocaleString();c.setFontSize(7),c.setFont("helvetica","Italic"),c.text(`Date: ${Q}`,20,25);const te=c.getStringUnitWidth("Parish Details.......................................")*c.internal.getFontSize()/c.internal.scaleFactor,z=c.internal.pageSize.width/2-te/2;c.setFontSize(12),c.setFont("helvetica","bold"),c.text("Parish Details",z,35),c.setFont("helvetica","normal");const se=60,b=10,A=10,g=se+A,$=g+b+A;let S=45;x("Parish Name",q),x("Contact Number",V),x("Email",B),x("Website",X),x("Diocese",v),x("Permanent Address",[u,H].join(", ")),x("",[N,U].join(", ")),x("",[f,y,M].join(", ")),x("Communication Address",[P,k].join(", ")),x("",[C,i].join(", ")),x("",[G,E,ee].join(", ")),x("Status",W(O)),c.save("parish_details.pdf");function x(ae,ie){ie&&(c.setFontSize(10),c.text(ae,30,S),ae.trim()!==""&&c.text(":",g,S),c.text(ie,$,S,{align:"left"}),S+=6)}};return e.jsxs(ye,{open:R,onClose:_,style:{width:"auto",margin:"auto",maxHeight:"75%"},children:[e.jsx(ve,{style:{textAlign:"center"},children:"Parish Details"}),e.jsx(be,{ref:le,style:{overflowY:"auto",maxHeight:"75%",scrollbarWidth:"thin",scrollbarColor:"dark"},children:e.jsx(_e,{style:{tableLayout:"fixed"},children:e.jsxs(Pe,{children:[q&&e.jsxs(L,{children:[e.jsx(d,{style:{width:"200px",paddingTop:0,paddingBottom:0},children:e.jsx(n,{variant:"subtitle1",children:"Parish Name"})}),e.jsx(d,{style:{width:"50px",paddingTop:0,paddingBottom:0},children:e.jsx(n,{variant:"subtitle1",children:":"})}),e.jsx(d,{style:{paddingTop:0,paddingBottom:0},children:e.jsx(n,{variant:"subtitle1",children:q})})]}),V&&e.jsxs(L,{children:[e.jsx(d,{style:{width:"200px",paddingTop:0,paddingBottom:0},children:e.jsx(n,{variant:"subtitle1",children:"Contact Number"})}),e.jsx(d,{style:{width:"50px",paddingTop:0,paddingBottom:0},children:e.jsx(n,{variant:"subtitle1",children:":"})}),e.jsx(d,{style:{paddingTop:0,paddingBottom:0},children:e.jsx(n,{variant:"subtitle1",children:V})})]}),B&&e.jsxs(L,{children:[e.jsx(d,{style:{width:"200px",paddingTop:0,paddingBottom:0},children:e.jsx(n,{variant:"subtitle1",children:"Email"})}),e.jsx(d,{style:{width:"50px",paddingTop:0,paddingBottom:0},children:e.jsx(n,{variant:"subtitle1",children:":"})}),e.jsx(d,{style:{paddingTop:0,paddingBottom:0},children:e.jsx(n,{variant:"subtitle1",children:B})})]}),X&&e.jsxs(L,{children:[e.jsx(d,{style:{width:"200px",paddingTop:0,paddingBottom:0},children:e.jsx(n,{variant:"subtitle1",children:"Website"})}),e.jsx(d,{style:{width:"50px",paddingTop:0,paddingBottom:0},children:e.jsx(n,{variant:"subtitle1",children:":"})}),e.jsx(d,{style:{paddingTop:0,paddingBottom:0},children:e.jsx(n,{variant:"subtitle1",children:X})})]}),v&&e.jsxs(L,{children:[e.jsx(d,{style:{width:"200px",paddingTop:0,paddingBottom:0},children:e.jsx(n,{variant:"subtitle1",children:"Diocese"})}),e.jsx(d,{style:{width:"50px",paddingTop:0,paddingBottom:0},children:e.jsx(n,{variant:"subtitle1",children:":"})}),e.jsx(d,{style:{paddingTop:0,paddingBottom:0},children:e.jsx(n,{variant:"subtitle1",children:v})})]}),u&&e.jsxs(L,{children:[e.jsx(d,{style:{verticalAlign:"top",paddingTop:"0",paddingBottom:"0"},children:e.jsx(n,{variant:"subtitle1",children:"Permanent Address"})}),e.jsx(d,{style:{width:"10px",verticalAlign:"top",paddingTop:"0",paddingBottom:"0"},children:e.jsx(n,{variant:"subtitle1",children:":"})}),e.jsx(d,{style:{verticalAlign:"top",paddingTop:"0",paddingBottom:"0"},children:e.jsxs(n,{variant:"subtitle1",children:[u,e.jsx("br",{}),H||"N/A",e.jsx("br",{}),N||"N/A",e.jsx("br",{}),U||"N/A",e.jsx("br",{}),f||"N/A",e.jsx("br",{}),y||"N/A",e.jsx("br",{}),M||"N/A"]})})]}),P&&e.jsxs(L,{children:[e.jsx(d,{style:{verticalAlign:"top",paddingTop:"0",paddingBottom:"0"},children:e.jsx(n,{variant:"subtitle1",children:"Communication Address"})}),e.jsx(d,{style:{width:"10px",verticalAlign:"top",paddingTop:"0",paddingBottom:"0"},children:e.jsx(n,{variant:"subtitle1",children:":"})}),e.jsx(d,{style:{verticalAlign:"top",paddingTop:"0",paddingBottom:"0"},children:e.jsxs(n,{variant:"subtitle1",children:[P,e.jsx("br",{}),k||"N/A",e.jsx("br",{}),C||"N/A",e.jsx("br",{}),i||"N/A",e.jsx("br",{}),G||"N/A",e.jsx("br",{}),E||"N/A",e.jsx("br",{}),ee||"N/A"]})})]}),e.jsxs(L,{children:[e.jsx(d,{children:e.jsx(n,{variant:"subtitle1",children:"Status"})}),e.jsx(d,{style:{width:"10px"},children:e.jsx(n,{variant:"subtitle1",children:":"})}),e.jsx(d,{children:e.jsx(n,{variant:"subtitle1",children:e.jsx("span",{style:{backgroundColor:K(O),color:"#fff",padding:"4px 8px",borderRadius:"4px"},children:W(O)})})})]})]})})}),e.jsxs(je,{children:[e.jsx(j,{onClick:J,color:"primary",style:{display:"block",margin:"auto"},children:"Generate PDF"}),e.jsx(j,{onClick:_,color:"primary",children:"Close"})]})]})};De.propTypes={open:l.bool.isRequired,onClose:l.func.isRequired,parishDetails:l.shape({name:l.string,contactNumber:l.string,email:l.string,website:l.string,diocese:l.string,address1:l.string,address2:l.string,city:l.string,district:l.string,state:l.string,postalCode:l.string,country:l.string,comm_address1:l.string,comm_address2:l.string,comm_city:l.string,comm_district:l.string,comm_state:l.string,comm_postalCode:l.string,comm_country:l.string,status:l.oneOf(["A","D"]).isRequired})};const kt=Tt({name:ge().required("Name is required"),diocese:ge().required("Diocese is required"),contactNumber:ge().required("Contact Number is required")});function Et(){const[R,_]=o.useState(0),[Y,q]=o.useState("asc"),[V,B]=o.useState([]),[u,H]=o.useState("name"),[N,U]=o.useState(""),[f,M]=o.useState(5),[y,P]=o.useState([]),[k,C]=o.useState(!1),[i,G]=o.useState(null),[ee,E]=o.useState(!1),[X,v]=o.useState(null),O=dt(),le=()=>{O("/")},[W,K]=o.useState([]),[J,c]=o.useState([]),[Q,te]=o.useState([]),[z,se]=o.useState([]),[b,A]=o.useState([]),[g,$]=o.useState([]),[S,x]=o.useState([]),[ae,ie]=o.useState([]),[Fe,Ie]=o.useState([]),[Te,we]=o.useState([]),[Be,Z]=o.useState(!1),[Ne,ne]=o.useState(""),[ke,de]=o.useState("success"),[Ee,fe]=o.useState(!1),[Oe,Le]=o.useState(null),Re=ct(),D=async t=>{try{const r=(await oe.get("http://localhost:8081/api/parish/list")).data;return[...new Set(r.map(p=>p[t]))].map(p=>({label:p,value:p}))}catch(a){return console.error(`Error fetching ${t} autocomplete options:`,a),[]}},F=(t,a)=>{s.handleChange(t)(a)},Ve=()=>{const{values:t,setFieldValue:a}=s;t.copyAddress?(a("address1",t.comm_address1||""),a("address2",t.comm_address2||""),a("city",t.comm_city||""),a("district",t.comm_district||""),a("state",t.comm_state||""),a("postalCode",t.comm_postalCode||""),a("country",t.comm_country||"")):(a("address1",t.address1||""),a("address2",t.address2||""),a("city",t.city||""),a("district",t.district||""),a("state",t.state||""),a("postalCode",t.postalCode||""),a("country",t.country||""))},s=ut({initialValues:{copyAddress:!0,parishId:i?i.parishId:"",name:i?i.name:"",contactNumber:i?i.contactNumber:"",email:i?i.email:"",address1:i?i.address1:"",address2:i?i.address2:"",city:i?i.city:"",district:i?i.district:"",state:i?i.state:"",postalCode:i?i.postalCode:"",country:i?i.country:"",comm_address1:i?i.comm_address1:"",comm_address2:i?i.comm_address2:"",comm_city:i?i.comm_city:"",comm_district:i?i.comm_district:"",comm_state:i?i.comm_state:"",comm_postalCode:i?i.comm_postalCode:"",comm_country:i?i.comm_country:"",website:i?i.website:"",diocese:i?i.diocese:"",status:i?i.status:""},validationSchema:kt,onSubmit:()=>{C(!1);const t={parishId:s.values.parishId,name:s.values.name,contactNumber:s.values.contactNumber,email:s.values.email,address1:s.values.address1,address2:s.values.address2,city:s.values.city,district:s.values.district,state:s.values.state,postalCode:s.values.postalCode,country:s.values.country,comm_address1:s.values.comm_address1,comm_address2:s.values.comm_address2,comm_city:s.values.comm_city,comm_district:s.values.comm_district,comm_state:s.values.comm_state,comm_postalCode:s.values.comm_postalCode,comm_country:s.values.comm_country,website:s.values.website,diocese:s.values.diocese,status:"A"};console.log("Parish data to be sent:",t),i?oe.put(`http://localhost:8081/api/parish/${i.parishId}`,t).then(a=>{a.status>=200&&a.status<300?(E(!0),v(null),P(r=>r.map(m=>m.parishId===i.parishId?{...m,...t}:m)),Z(!0),ne("Parish updated successfully!"),de("success")):(console.error("Failed to update member. Status code:",a.status),v("Error updating data. Please try again."))}).catch(a=>{console.error("Error updating member:",a),v("Error updating data. Please try again.")}):oe.post("http://localhost:8081/api/parish/add",t).then(a=>{a.status>=200&&a.status<300?(E(!0),v(null),P(r=>[...r,a.data]),console.log("data.",t),Z(!0),ne("Parish Added successfully!"),de("success")):(console.error("Failed to create parish. Status code:",a.status),v("Error saving data. Please try again."))}).catch(a=>{console.error("Error creating parish:",a),v("Error saving data. Please try again.")}),s.resetForm()}}),He=()=>{C(!0),G(null)},We=t=>{fe(!0),Le(t)};o.useEffect(()=>{oe.get("http://localhost:8081/api/parish/list").then(t=>{P(t.data)}).catch(t=>{console.error("Error fetching data: ",t)}),D("city").then(t=>K(t)),D("district").then(t=>c(t)),D("state").then(t=>te(t)),D("postalCode").then(t=>se(t)),D("country").then(t=>A(t)),D("comm_city").then(t=>$(t)),D("comm_district").then(t=>x(t)),D("comm_state").then(t=>ie(t)),D("comm_postalCode").then(t=>Ie(t)),D("comm_country").then(t=>we(t))},[ee,k]);const ze=(t,a)=>{a!==""&&(q(u===a&&Y==="asc"?"desc":"asc"),H(a))},$e=t=>{if(t.target.checked){const a=wt.map(r=>r.name);B(a);return}B([])},Ye=(t,a)=>{_(a)},qe=t=>{_(0),M(parseInt(t.target.value,10))},Ue=t=>{const a=t.target.value||"";console.log("Filtering by name:",a),_(0),U(a)},ce=(({inputData:t,comparator:a,filterName:r})=>{const m=r.toLowerCase();return t.filter(p=>{const ue=p.name.toLowerCase(),re=p.diocese.toLowerCase();return ue.includes(m)||re.includes(m)})})({inputData:y,filterName:N}).sort(mt(Y,u)),Me=!ce.length&&!!N,Ge=t=>{oe.get(`http://localhost:8081/api/parish/${t}`).then(a=>{a.status>=200&&a.status<300?(console.log("Fetched parish data:",a.data),s.setValues(a.data),G(a.data),C(!0)):console.error("Failed to fetch parish data. Status code:",a.status)}).catch(a=>{console.error("Error fetching parish data:",a)})},Xe=t=>{const a=y.find(r=>r.parishId===t);if(a){const r=a.status==="A"?"D":"A";oe.put(`http://localhost:8081/api/parish/${t}`,{...a,status:r}).then(m=>{m.status>=200&&m.status<300?(P(y.map(p=>p.parishId===t?{...p,status:p.status==="A"?"D":"A"}:p)),Z(!0),ne(r==="D"?"Parish has been deactivated. This action is reversible.":"Parish has been activated. This action is reversible."),de(r==="D"?"warning":"info")):(console.error("Failed to update parish status. Status code:",m.status),Z(!0),ne(`Failed to update parish status. Status code: ${m.status}`),de("error"))}).catch(m=>{console.error("Error disabling parish:",m),Z(!0),ne(`Error disabling parish: ${X.message}`),de("error")})}},Ke=ht`
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
`,Je=pt(xe)(({theme:t})=>({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",animation:`${Ke} 0.5s ease`})),Qe=()=>localStorage.getItem("token")!==null;o.useState(null);const Ze=t=>{if(!t)return{PAView:null,PAEdit:null,PADelete:null};const a=t.split(" "),r={};return a.forEach(m=>{const p=m.slice(0,2),ue=m.slice(3,4)==="T",re=m.slice(4,5)==="T",it=m.slice(5,6)==="T";r[p+"View"]=ue,r[p+"Edit"]=re,r[p+"Delete"]=it}),r},et=localStorage.getItem("permissions"),pe=Ze(et),tt=pe.PAView,st=pe.PAEdit;if(pe.PADelete,tt===!1)return e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:e.jsxs(xe,{maxWidth:"sm",style:{textAlign:"center"},children:[e.jsx(n,{variant:"h4",gutterBottom:!0,children:"Oops! Access Denied"}),e.jsx(n,{variant:"body1",paragraph:!0,children:"It seems you don't have permission to access this page."}),e.jsx(n,{variant:"body2",paragraph:!0,children:"If you believe this is a mistake, please contact your administrator."})]})});const at=t=>{if(!t||t.length===0)return"PA001";const m=`PA${(t.reduce((p,ue)=>{const re=parseInt(ue.parishId.replace("PA",""),10);return re>p?re:p},0)+1).toString().padStart(3,"0")}`;return console.log("Generated new Parish ID:",m),m};return o.useEffect(()=>{if(y!==null&&y.length>=0){const t=at(y);s.setFieldValue("parishId",t)}},[y]),e.jsx(xe,{children:e.jsx("div",{children:Qe()?e.jsxs("div",{children:[e.jsx(he,{direction:"row",alignItems:"center",justifyContent:"space-between",mb:2,children:e.jsx(j,{onClick:le,variant:"contained",color:"primary",children:e.jsx(me,{icon:"line-md:home"})})}),!k&&e.jsxs(he,{direction:"row",alignItems:"center",justifyContent:"space-between",mb:5,children:[e.jsx(n,{variant:"h4",children:"Parishes "}),e.jsx(j,{variant:"contained",color:"inherit",onClick:He,disabled:!st,children:"Add New Parish"})]}),!k&&e.jsxs(xt,{children:[e.jsx(gt,{numSelected:V.length,filterName:N,onFilterName:Ue}),e.jsx(yt,{children:e.jsx(vt,{sx:{overflow:"unset"},children:e.jsxs(_e,{sx:{minWidth:800},children:[e.jsx(bt,{order:Y,orderBy:u,rowCount:ce.length,numSelected:V.length,onRequestSort:ze,onSelectAllClick:$e,headLabel:[{id:"name",label:"Parish Name"},{id:"diocese",label:"Diocese"},{id:"contactNumber",label:"Contact number"},{id:"email",label:"Email"},{id:"status",label:"Status"},{id:"",label:"Action"}]}),e.jsxs(Pe,{children:[ce.slice(R*f,R*f+f).map(t=>e.jsx(Se,{name:t.name,diocese:t.diocese,contactNumber:t.contactNumber,email:t.email,status:t.status,row:t,onEdit:()=>Ge(t.parishId),onDisable:()=>Xe(t.parishId),onNameCellClick:()=>We(t)},t.parishId)),e.jsx(jt,{height:77,emptyRows:ft(R,f,ce.length)}),Me&&e.jsx(Ct,{query:N})]})]})})}),e.jsx(At,{page:R,component:"div",count:ce.length,rowsPerPage:f,onPageChange:Ye,rowsPerPageOptions:[5,10,25],onRowsPerPageChange:qe})]}),k&&e.jsxs("div",{className:"row",style:{overflowX:"hidden"},children:[e.jsx("div",{className:"col-md-5 offset-1 mt-5 pt-5"}),e.jsxs("div",{className:"col-md-4 mt-5 pt-5 offset-1",children:[e.jsxs("div",{className:"header-container",style:{display:"flex",alignItems:"center"},children:[e.jsx(j,{onClick:()=>{C(!1),s.resetForm()},style:{fontSize:"1.2rem",marginRight:"8px"},children:e.jsx(me,{icon:"ep:back",style:{marginRight:"8px"}})}),e.jsx("h2",{className:"text-center",style:{paddingBottom:"16px"},children:i?"Edit Parish":"Add a new parish"})]}),e.jsxs(_t,{component:"form",sx:{"& .MuiTextField-root":{m:1,width:"25ch"}},noValidate:!0,autoComplete:"off",onSubmit:t=>{t.preventDefault(),s.handleSubmit()},children:[e.jsxs("div",{style:{display:"flex",gap:"16px",justifyContent:"space-between",paddingRight:"16px"},children:[e.jsx("div",{style:{flex:"1"},children:e.jsx(h,{label:"Parish Id",name:"parishId",id:"parishId",variant:"outlined",value:s.values.parishId,...s.getFieldProps("parishId"),error:s.touched.parishId&&!!s.errors.parishId,helperText:s.touched.parishId&&s.errors.parishId,style:{width:"100%"},disabled:!0})}),e.jsx("div",{style:{flex:"1",marginLeft:"16px"},children:e.jsx(h,{label:"Parish name",name:"name",id:"name",variant:"outlined",value:s.values.name,...s.getFieldProps("name"),error:s.touched.name&&!!s.errors.name,helperText:s.touched.name&&s.errors.name,style:{width:"100%"}})})]}),e.jsxs("div",{style:{display:"flex",gap:"16px",justifyContent:"space-between",paddingRight:"16px"},children:[e.jsx("div",{style:{flex:"1"},children:e.jsx(h,{label:"Contact number",name:"contactNumber",id:"contactNumber",variant:"outlined",value:s.values.contactNumber,...s.getFieldProps("contactNumber"),error:s.touched.contactNumber&&!!s.errors.contactNumber,helperText:s.touched.contactNumber&&s.errors.contactNumber,style:{width:"100%"}})}),e.jsx("div",{style:{flex:"1",marginLeft:"16px"},children:e.jsx(h,{label:"Email",name:"email",id:"email",variant:"outlined",value:s.values.email,...s.getFieldProps("email"),error:s.touched.email&&!!s.errors.email,helperText:s.touched.email&&s.errors.email,style:{width:"100%"}})})]}),e.jsxs("div",{style:{display:"flex",gap:"16px",justifyContent:"space-between",paddingRight:"16px"},children:[e.jsx("div",{style:{flex:"1"},children:e.jsx(h,{label:"Website",name:"website",id:"website",variant:"outlined",value:s.values.website,...s.getFieldProps("website"),error:s.touched.website&&!!s.errors.website,helperText:s.touched.website&&s.errors.website,style:{width:"100%"}})}),e.jsx("div",{style:{flex:"1",marginLeft:"16px"},children:e.jsx(h,{label:"Diocese",name:"diocese",id:"diocese",variant:"outlined",value:s.values.diocese,...s.getFieldProps("diocese"),error:s.touched.diocese&&!!s.errors.diocese,helperText:s.touched.diocese&&s.errors.diocese,style:{width:"100%"}})})]}),e.jsx(Pt,{sx:{my:3},children:e.jsx(n,{variant:"body2",sx:{color:"Black"},children:"Address Details"})}),e.jsxs("div",{style:{display:"flex",gap:"16px",flexDirection:"row"},children:[e.jsxs("div",{style:{flex:"1",marginRight:"16px"},children:[e.jsx("div",{style:{paddingLeft:16,paddingTop:16},children:e.jsx(Ae,{style:{color:"black",fontSize:"18px"},children:"Permanent Address:"})}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"left"},children:[e.jsx("div",{style:{flex:"1"},children:e.jsx(h,{label:"Flat, House no., Building, Apartment",name:"address1",id:"address1",variant:"outlined",value:s.values.address1,onChange:t=>{s.handleChange(t),s.values.copyAddress&&s.setFieldValue("comm_address1",t.target.value||"")},error:s.touched.address1&&!!s.errors.address1,helperText:s.touched.address1&&s.errors.address1,multiline:!0,rows:1,style:{width:"100%"}})}),e.jsx("div",{style:{flex:"1",marginLeft:"0px"},children:e.jsx(h,{label:"Area, Street, Sector, Village",name:"address2",id:"address2",variant:"outlined",value:s.values.address2,onChange:t=>{s.handleChange(t),s.values.copyAddress&&s.setFieldValue("comm_address2",t.target.value||"")},error:s.touched.address2&&!!s.errors.address2,helperText:s.touched.address2&&s.errors.address2,multiline:!0,rows:1,style:{width:"100%"}})}),e.jsx("div",{style:{flex:"1",marginLeft:"0px"},children:e.jsx(I,{options:W.filter(t=>t.label),freeSolo:!0,value:W.find(t=>t.label===s.values.city)||null,onInputChange:(t,a)=>{F("city",a),s.values.copyAddress&&s.setFieldValue("comm_city",a)},onChange:(t,a)=>{const r=a&&(a.value||a.label)||"";s.setFieldValue("city",r),s.values.copyAddress&&s.setFieldValue("comm_city",r)},getOptionLabel:t=>t.label||"",renderInput:t=>e.jsx(h,{...t,label:"Town/City",name:"city",id:"city",variant:"outlined",error:s.touched.city&&!!s.errors.city,helperText:s.touched.city&&s.errors.city,style:{width:"100%"}}),PaperComponent:({children:t,...a})=>e.jsx(T,{...a,style:{maxHeight:200,overflowY:"auto"},children:w.Children.toArray(t).slice(0,5)})})}),e.jsx("div",{style:{flex:"1",marginLeft:"0px"},children:e.jsx(I,{options:J.filter(t=>t.label),freeSolo:!0,value:J.find(t=>t.label===s.values.district)||null,onInputChange:(t,a)=>{F("district",a),s.values.copyAddress&&s.setFieldValue("comm_district",a)},onChange:(t,a)=>{const r=a&&(a.value||a.label)||"";s.setFieldValue("district",r),s.values.copyAddress&&s.setFieldValue("comm_district",r)},getOptionLabel:t=>t.label||"",renderInput:t=>e.jsx(h,{...t,label:"District",name:"district",id:"district",variant:"outlined",error:s.touched.district&&!!s.errors.district,helperText:s.touched.district&&s.errors.district,style:{width:"100%"}}),PaperComponent:({children:t,...a})=>e.jsx(T,{...a,style:{maxHeight:200,overflowY:"auto"},children:w.Children.toArray(t).slice(0,5)})})}),e.jsx("div",{style:{flex:"1",marginLeft:"0px"},children:e.jsx(I,{options:Q.filter(t=>t.label),freeSolo:!0,value:Q.find(t=>t.label===s.values.state)||null,onInputChange:(t,a)=>{F("state",a),s.values.copyAddress&&s.setFieldValue("comm_state",a)},onChange:(t,a)=>{const r=a&&(a.value||a.label)||"";s.setFieldValue("state",r),s.values.copyAddress&&s.setFieldValue("comm_state",r)},getOptionLabel:t=>t.label||"",renderInput:t=>e.jsx(h,{...t,label:"State",name:"state",id:"state",variant:"outlined",error:s.touched.state&&!!s.errors.state,helperText:s.touched.state&&s.errors.state,style:{width:"100%"}}),PaperComponent:({children:t,...a})=>e.jsx(T,{...a,style:{maxHeight:200,overflowY:"auto"},children:w.Children.toArray(t).slice(0,5)})})}),e.jsx("div",{style:{flex:"1",marginLeft:"0px"},children:e.jsx(I,{options:z.filter(t=>t.label),freeSolo:!0,value:z.find(t=>t.label===s.values.postalCode)||null,onInputChange:(t,a)=>{F("postalCode",a),s.values.copyAddress&&s.setFieldValue("comm_postalCode",a)},onChange:(t,a)=>{const r=a&&(a.value||a.label)||"";s.setFieldValue("postalCode",r),s.values.copyAddress&&s.setFieldValue("comm_postalCode",r)},getOptionLabel:t=>t.label||"",renderInput:t=>e.jsx(h,{...t,label:"Postal code",name:"postalCode",id:"postalCode",variant:"outlined",error:s.touched.postalCode&&!!s.errors.postalCode,helperText:s.touched.postalCode&&s.errors.postalCode,style:{width:"100%"}}),PaperComponent:({children:t,...a})=>e.jsx(T,{...a,style:{maxHeight:200,overflowY:"auto"},children:w.Children.toArray(t).slice(0,5)})})}),e.jsx("div",{style:{flex:"1",marginLeft:"0px"},children:e.jsx(I,{options:b.filter(t=>t.label),freeSolo:!0,value:b.find(t=>t.label===s.values.country)||null,onInputChange:(t,a)=>{F("country",a),s.values.copyAddress&&s.setFieldValue("comm_country",a)},onChange:(t,a)=>{const r=a&&(a.value||a.label)||"";s.setFieldValue("country",r),s.values.copyAddress&&s.setFieldValue("comm_country",r)},getOptionLabel:t=>t.label||"",renderInput:t=>e.jsx(h,{...t,label:"Country",name:"country",id:"country",variant:"outlined",error:s.touched.country&&!!s.errors.country,helperText:s.touched.country&&s.errors.country,style:{width:"100%",paddingBottom:"0px"}}),PaperComponent:({children:t,...a})=>e.jsx(T,{...a,style:{maxHeight:200,overflowY:"auto"},children:w.Children.toArray(t).slice(0,5)})})})]}),!i&&e.jsx("div",{style:{flex:"2",marginLeft:"16px"},children:e.jsx(St,{control:e.jsx(Dt,{name:"copyAddress",color:"primary",checked:s.values.copyAddress,onChange:t=>{s.setFieldValue("copyAddress",t.target.checked),console.log("Checkbox changed:",s.values.copyAddress)}}),label:"Communication address is same as the permanent address"})})]}),e.jsxs("div",{style:{flex:"1",marginRight:"16px"},children:[e.jsx("div",{style:{paddingLeft:16,paddingTop:16},children:e.jsx(Ae,{style:{color:"black",fontSize:"18px"},children:"Communication Address:"})}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"left"},children:[e.jsx("div",{style:{flex:"1"},children:e.jsx(h,{label:"Flat, House no., Building, Apartment",name:"comm_address1",id:"comm_address1",variant:"outlined",value:s.values.comm_address1,...s.getFieldProps("comm_address1"),error:s.touched.comm_address1&&!!s.errors.comm_address1,helperText:s.touched.comm_address1&&s.errors.comm_address1,multiline:!0,rows:1,style:{width:"100%"},disabled:s.values.copyAddress})}),e.jsx("div",{style:{flex:"1",marginLeft:"0px"},children:e.jsx(h,{label:"Area, Street, Sector, Village",name:"comm_address2",id:"comm_address2",variant:"outlined",value:s.values.comm_address2,...s.getFieldProps("comm_address2"),error:s.touched.comm_address2&&!!s.errors.comm_address2,helperText:s.touched.comm_address2&&s.errors.comm_address2,multiline:!0,rows:1,style:{width:"100%"},disabled:s.values.copyAddress})}),e.jsx("div",{style:{flex:"1",marginLeft:"0px"},children:e.jsx(I,{options:g.filter(t=>t.label),freeSolo:!0,value:W.find(t=>t.label===s.values.comm_city)||null,onInputChange:(t,a)=>{F("comm_city",a)},onChange:(t,a)=>{const r=a&&(a.value||a.label)||"";s.setFieldValue("comm_city",r)},getOptionLabel:t=>t.label||"",disabled:s.values.copyAddress,renderInput:t=>e.jsx(h,{...t,label:"Town/City",name:"comm_city",id:"comm_city",variant:"outlined",error:s.touched.comm_city&&!!s.errors.comm_city,helperText:s.touched.comm_city&&s.errors.comm_city,style:{width:"100%"},disabled:s.values.copyAddress}),PaperComponent:({children:t,...a})=>e.jsx(T,{...a,style:{maxHeight:200,overflowY:"auto"},children:w.Children.toArray(t).slice(0,5)})})}),e.jsx("div",{style:{flex:"1",marginLeft:"0px"},children:e.jsx(I,{options:S.filter(t=>t.label),freeSolo:!0,value:J.find(t=>t.label===s.values.comm_district)||null,onInputChange:(t,a)=>{F("comm_district",a)},onChange:(t,a)=>{const r=a&&(a.value||a.label)||"";s.setFieldValue("comm_district",r)},getOptionLabel:t=>t.label||"",disabled:s.values.copyAddress,renderInput:t=>e.jsx(h,{...t,label:"District",name:"comm_district",id:"comm_district",variant:"outlined",error:s.touched.comm_district&&!!s.errors.comm_district,helperText:s.touched.comm_district&&s.errors.comm_district,style:{width:"100%"},disabled:s.values.copyAddress}),PaperComponent:({children:t,...a})=>e.jsx(T,{...a,style:{maxHeight:200,overflowY:"auto"},children:w.Children.toArray(t).slice(0,5)})})}),e.jsx("div",{style:{flex:"1",marginLeft:"0px"},children:e.jsx(I,{options:ae.filter(t=>t.label),freeSolo:!0,value:Q.find(t=>t.label===s.values.comm_state)||null,onInputChange:(t,a)=>{F("comm_state",a)},onChange:(t,a)=>{const r=a&&(a.value||a.label)||"";s.setFieldValue("comm_state",r)},getOptionLabel:t=>t.label||"",disabled:s.values.copyAddress,renderInput:t=>e.jsx(h,{...t,label:"State",name:"comm_state",id:"comm_state",variant:"outlined",error:s.touched.comm_state&&!!s.errors.comm_state,helperText:s.touched.comm_state&&s.errors.comm_state,style:{width:"100%"},disabled:s.values.copyAddress}),PaperComponent:({children:t,...a})=>e.jsx(T,{...a,style:{maxHeight:200,overflowY:"auto"},children:w.Children.toArray(t).slice(0,5)})})}),e.jsx("div",{style:{flex:"1",marginLeft:"0px"},children:e.jsx(I,{options:Fe.filter(t=>t.label),freeSolo:!0,value:z.find(t=>t.label===s.values.comm_postalCode)||null,onInputChange:(t,a)=>{F("comm_postalCode",a)},onChange:(t,a)=>{const r=a&&(a.value||a.label)||"";s.setFieldValue("comm_postalCode",r)},getOptionLabel:t=>t.label||"",disabled:s.values.copyAddress,renderInput:t=>e.jsx(h,{...t,label:"Postal code",name:"comm_postalCode",id:"comm_postalCode",variant:"outlined",error:s.touched.comm_postalCode&&!!s.errors.comm_postalCode,helperText:s.touched.comm_postalCode&&s.errors.comm_postalCode,style:{width:"100%"},disabled:s.values.copyAddress}),PaperComponent:({children:t,...a})=>e.jsx(T,{...a,style:{maxHeight:200,overflowY:"auto"},children:w.Children.toArray(t).slice(0,5)})})}),e.jsx("div",{style:{flex:"1",marginLeft:"0px"},children:e.jsx(I,{options:Te.filter(t=>t.label),freeSolo:!0,value:b.find(t=>t.label===s.values.comm_country)||null,onInputChange:(t,a)=>{F("comm_country",a)},onChange:(t,a)=>{const r=a&&(a.value||a.label)||"";s.setFieldValue("comm_country",r)},getOptionLabel:t=>t.label||"",disabled:s.values.copyAddress,renderInput:t=>e.jsx(h,{...t,label:"Country",name:"comm_country",id:"comm_country",variant:"outlined",error:s.touched.comm_country&&!!s.errors.comm_country,helperText:s.touched.comm_country&&s.errors.comm_country,style:{width:"100%",paddingRight:"0px",paddingBottom:"16px"},disabled:s.values.copyAddress}),PaperComponent:({children:t,...a})=>e.jsx(T,{...a,style:{maxHeight:200,overflowY:"auto"},children:w.Children.toArray(t).slice(0,5)})})})]})]})]}),e.jsxs(he,{spacing:2,direction:"row",style:{paddingLeft:16,paddingTop:24},justifyContent:"flex-end",children:[e.jsx(j,{variant:"contained",color:"secondary",onClick:()=>{C(!1),s.resetForm()},children:"Cancel"}),e.jsx(j,{variant:"contained",type:"submit",onClick:()=>{Ve(),s.handleSubmit()},children:i?"Update":"Save"})]})]})]})]}),e.jsx(Ft,{open:Be,autoHideDuration:6e3,onClose:()=>Z(!1),children:e.jsx(It,{elevation:6,variant:"filled",onClose:()=>Z(!1),severity:ke,children:Ne})}),e.jsx(De,{open:Ee,onClose:()=>fe(!1),parishDetails:Oe})]}):e.jsxs(Je,{children:[e.jsx(n,{variant:"h2",align:"center",gutterBottom:!0,children:"Access Denied"}),e.jsx(n,{variant:"h5",align:"center",gutterBottom:!0,children:"You do not have permission to access this page."}),e.jsx(j,{variant:"contained",color:"primary",onClick:()=>Re.push("/login"),sx:{marginTop:"20px"},children:"Go to Login"})]})})})}function Rt(){return e.jsxs(e.Fragment,{children:[e.jsx(Nt,{children:e.jsx("title",{children:"STCK | ParishPro | Parishes"})}),e.jsx(Et,{})]})}export{Rt as default};
